import{SvelteComponent as e,init as t,safe_not_equal as i,create_slot as n,element as s,attr as l,insert as r,listen as a,prevent_default as o,update_slot_base as d,get_all_dirty_from_scope as u,get_slot_changes as c,transition_in as m,transition_out as f,detach as b,binding_callbacks as $}from"../../../../../node_modules/svelte/internal/index.js";function h(e){let t,i,$,h,_;const y=e[8].default,p=n(y,e,e[7],null);return{c(){t=s("form"),p&&p.c(),l(t,"aria-describedby",e[1]),l(t,"id",e[2]),l(t,"class",i=`tw_form-base ${e[3]?"tw_form-valid":"tw_form-invalid"} tw_outline-none`),t.noValidate=!0,l(t,"tabindex","-1")},m(i,n){r(i,t,n),p&&p.m(t,null),e[9](t),$=!0,h||(_=a(t,"submit",o(e[4])),h=!0)},p(e,[n]){p&&p.p&&(!$||128&n)&&d(p,y,e,e[7],$?c(y,e[7],n,null):u(e[7]),null),(!$||2&n)&&l(t,"aria-describedby",e[1]),(!$||4&n)&&l(t,"id",e[2]),(!$||8&n&&i!==(i=`tw_form-base ${e[3]?"tw_form-valid":"tw_form-invalid"} tw_outline-none`))&&l(t,"class",i)},i(e){$||(m(p,e),$=!0)},o(e){f(p,e),$=!1},d(i){i&&b(t),p&&p.d(i),e[9](null),h=!1,_()}}}function _(e,t,i){let{$$slots:n={},$$scope:s}=t,{ariaDescribedBy:l}=t,{formEl:r=null}=t,{id:a="formId"}=t,{needsFocus:o=!1}=t,{onSubmitWhenValid:d}=t,u=!1;return e.$$set=e=>{"ariaDescribedBy"in e&&i(1,l=e.ariaDescribedBy),"formEl"in e&&i(0,r=e.formEl),"id"in e&&i(2,a=e.id),"needsFocus"in e&&i(5,o=e.needsFocus),"onSubmitWhenValid"in e&&i(6,d=e.onSubmitWhenValid),"$$scope"in e&&i(7,s=e.$$scope)},e.$$.update=()=>{33&e.$$.dirty&&(console.log("Form has been updated."),o&&r&&r.focus())},[r,l,a,u,function(e){const t=e.target;let n=null;i(3,u=!1),Array.from(t.children).forEach(((e,t)=>{const i=e.querySelectorAll("input, select, textarea");i?.length&&Array.from(i).forEach((e=>{const i=e.checkValidity(),s=e.getAttribute("aria-describedby")||"",l=document.getElementById(s)?.querySelector(".__input-message");i?(e.setAttribute("aria-invalid","false"),l?.classList.remove("tw_isInvalid"),l?.classList.add("tw_hidden")):(e.setAttribute("aria-invalid","true"),s&&(l?.classList.add("tw_isInvalid"),l?.classList.remove("tw_hidden")),null===n&&(e.focus(),n=t))}))})),null===n&&(i(3,u=!0),d(e,u))},o,d,s,n,function(e){$[e?"unshift":"push"]((()=>{r=e,i(0,r)}))}]}class y extends e{constructor(e){super(),t(this,e,_,h,i,{ariaDescribedBy:1,formEl:0,id:2,needsFocus:5,onSubmitWhenValid:6})}}export{y as default};