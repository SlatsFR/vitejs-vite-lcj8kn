import{SvelteComponent as t,init as e,safe_not_equal as n,empty as l,insert as i,group_outros as o,transition_out as a,check_outros as s,transition_in as r,detach as c,create_component as u,mount_component as p,destroy_component as m,destroy_each as f,text as d,space as $,set_data as g}from"../../../../../node_modules/svelte/internal/index.js";import b from"../../../components/primitives/button/button.js";import y from"../../../components/compositions/select-floating/floating-label.js";import h from"../../../components/primitives/grid/grid.js";import{interpolate as x,textToKey as v}from"../../../_utilities/i18n.utilities.js";function k(t,e,n){const l=t.slice();return l[14]=e[n],l}function S(t){let e,n;return e=new h({props:{num:t[4].length,$$slots:{default:[N]},$$scope:{ctx:t}}}),{c(){u(e.$$.fragment)},m(t,l){p(e,t,l),n=!0},p(t,n){const l={};16&n&&(l.num=t[4].length),131280&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(r(e.$$.fragment,t),n=!0)},o(t){a(e.$$.fragment,t),n=!1},d(t){m(e,t)}}}function I(t){let e,n;return e=new y({props:{isFirstInvalidInput:t[0].isFirstInvalidInput,isRequired:!1,key:t[5],label:t[3],onChange:t[9],options:t[4]}}),{c(){u(e.$$.fragment)},m(t,l){p(e,t,l),n=!0},p(t,n){const l={};1&n&&(l.isFirstInvalidInput=t[0].isFirstInvalidInput),32&n&&(l.key=t[5]),8&n&&(l.label=t[3]),16&n&&(l.options=t[4]),e.$set(l)},i(t){n||(r(e.$$.fragment,t),n=!0)},o(t){a(e.$$.fragment,t),n=!1},d(t){m(e,t)}}}function F(t){let e,n,l=t[14].text+"";return{c(){e=d(l),n=$()},m(t,l){i(t,e,l),i(t,n,l)},p(t,n){16&n&&l!==(l=t[14].text+"")&&g(e,l)},d(t){t&&c(e),t&&c(n)}}}function M(t){let e,n;function l(){return t[13](t[14])}return e=new b({props:{style:t[4].length>1&&t[6]===Number(t[14].value)?"primary":t[7],type:"button",width:"auto",onClick:l,$$slots:{default:[F]},$$scope:{ctx:t}}}),{c(){u(e.$$.fragment)},m(t,l){p(e,t,l),n=!0},p(n,i){t=n;const o={};208&i&&(o.style=t[4].length>1&&t[6]===Number(t[14].value)?"primary":t[7]),16&i&&(o.onClick=l),131088&i&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(r(e.$$.fragment,t),n=!0)},o(t){a(e.$$.fragment,t),n=!1},d(t){m(e,t)}}}function N(t){let e,n,u=t[4],p=[];for(let e=0;e<u.length;e+=1)p[e]=M(k(t,u,e));const m=t=>a(p[t],1,1,(()=>{p[t]=null}));return{c(){for(let t=0;t<p.length;t+=1)p[t].c();e=l()},m(t,l){for(let e=0;e<p.length;e+=1)p[e].m(t,l);i(t,e,l),n=!0},p(t,n){if(464&n){let l;for(u=t[4],l=0;l<u.length;l+=1){const i=k(t,u,l);p[l]?(p[l].p(i,n),r(p[l],1)):(p[l]=M(i),p[l].c(),r(p[l],1),p[l].m(e.parentNode,e))}for(o(),l=u.length;l<p.length;l+=1)m(l);s()}},i(t){if(!n){for(let t=0;t<u.length;t+=1)r(p[t]);n=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)a(p[t]);n=!1},d(t){f(p,t),t&&c(e)}}}function j(t){let e,n,u,p;const m=[I,S],f=[];function d(t,e){return"select"!==t[1]&&t[2].isStepSelfSubmittable?1:0}return e=d(t),n=f[e]=m[e](t),{c(){n.c(),u=l()},m(t,n){f[e].m(t,n),i(t,u,n),p=!0},p(t,[l]){let i=e;e=d(t),e===i?f[e].p(t,l):(o(),a(f[i],1,1,(()=>{f[i]=null})),s(),n=f[e],n?n.p(t,l):(n=f[e]=m[e](t),n.c()),r(n,1),n.m(u.parentNode,u))},i(t){p||(r(n),p=!0)},o(t){a(n),p=!1},d(t){f[e].d(t),t&&c(u)}}}function C(t,e,n){let l,i,o,a,s,{callback:r}=e,{displayType:c=null}=e,{callbackMetadata:u}=e,{selfSubmitFunction:p=null}=e,{stepMetadata:m}=e,{style:f={}}=e;function d(t){r.setOptionIndex(t),n(0,u.isReadyForSubmission=!0,u),p&&p()}return t.$$set=t=>{"callback"in t&&n(10,r=t.callback),"displayType"in t&&n(1,c=t.displayType),"callbackMetadata"in t&&n(0,u=t.callbackMetadata),"selfSubmitFunction"in t&&n(11,p=t.selfSubmitFunction),"stepMetadata"in t&&n(2,m=t.stepMetadata),"style"in t&&n(12,f=t.style)},t.$$.update=()=>{1055&t.$$.dirty&&(n(5,l=r?.payload?.input?.[0].name||`confirmation-${u.idx}`),n(4,o=r.getOptions().map(((t,e)=>({value:`${e}`,text:t})))),n(6,a=r.getDefaultOption()),n(3,i=x(v("pleaseConfirm"),null,"Please Confirm")),"select"!==c&&m.isStepSelfSubmittable?1===o.length?n(7,s="outline"):n(7,s="secondary"):o.unshift({value:"",text:i}))},[u,c,m,i,o,l,a,s,d,function(t){r.setOptionIndex(Number(t.target.value))},r,p,f,t=>d(Number(t.value))]}class w extends t{constructor(t){super(),e(this,t,C,j,n,{callback:10,displayType:1,callbackMetadata:0,selfSubmitFunction:11,stepMetadata:2,style:12})}}export{w as default};