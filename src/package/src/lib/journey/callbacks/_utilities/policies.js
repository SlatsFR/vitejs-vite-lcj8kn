import{SvelteComponent as e,init as t,safe_not_equal as l,empty as n,insert as s,group_outros as r,transition_out as c,check_outros as a,transition_in as i,detach as o,element as u,create_component as g,space as d,attr as f,append as m,mount_component as p,destroy_component as w,destroy_each as $,text as h,set_data as k}from"../../../../../node_modules/svelte/internal/index.js";import{getValidationFailures as _,getValidationPolicies as y}from"./callback.utilities.js";import x from"../../../components/_utilities/locale-strings.js";function b(e,t,l){const n=e.slice();return n[10]=t[l],n}function K(e,t,l){const n=e.slice();return n[7]=t[l],n}function j(e){let t,l,n,r,a,h,k;n=new x({props:{key:e[1]}});let _=e[2],y=[];for(let t=0;t<_.length;t+=1)y[t]=P(b(e,_,t));return{c(){t=u("div"),l=u("p"),g(n.$$.fragment),r=d(),a=u("ul");for(let e=0;e<y.length;e+=1)y[e].c();f(l,"class","tw_text-secondary-dark dark:tw_text-secondary-light tw_w-full"),f(a,"class","tw_text-secondary-dark dark:tw_text-secondary-light tw_w-full"),f(t,"class","tw_input-policies tw_w-full"),f(t,"id",h=""+(e[0]?`${e[0]}-message`:""))},m(e,c){s(e,t,c),m(t,l),p(n,l,null),m(t,r),m(t,a);for(let e=0;e<y.length;e+=1)y[e].m(a,null);k=!0},p(e,l){const s={};if(2&l&&(s.key=e[1]),n.$set(s),4&l){let t;for(_=e[2],t=0;t<_.length;t+=1){const n=b(e,_,t);y[t]?y[t].p(n,l):(y[t]=P(n),y[t].c(),y[t].m(a,null))}for(;t<y.length;t+=1)y[t].d(1);y.length=_.length}(!k||1&l&&h!==(h=""+(e[0]?`${e[0]}-message`:"")))&&f(t,"id",h)},i(e){k||(i(n.$$.fragment,e),k=!0)},o(e){c(n.$$.fragment,e),k=!1},d(e){e&&o(t),w(n),$(y,e)}}}function v(e){let t,l,n,r,a,h,k;n=new x({props:{key:e[1]}});let _=e[3],y=[];for(let t=0;t<_.length;t+=1)y[t]=N(K(e,_,t));return{c(){t=u("div"),l=u("p"),g(n.$$.fragment),r=d(),a=u("ul");for(let e=0;e<y.length;e+=1)y[e].c();f(l,"class","tw_text-error-dark dark:tw_text-error-light tw_w-full"),f(a,"class","tw_text-error-dark dark:tw_text-error-light tw_w-full"),f(t,"class","tw_input-policies tw_w-full"),f(t,"id",h=""+(e[0]?`${e[0]}-message`:""))},m(e,c){s(e,t,c),m(t,l),p(n,l,null),m(t,r),m(t,a);for(let e=0;e<y.length;e+=1)y[e].m(a,null);k=!0},p(e,l){const s={};if(2&l&&(s.key=e[1]),n.$set(s),8&l){let t;for(_=e[3],t=0;t<_.length;t+=1){const n=K(e,_,t);y[t]?y[t].p(n,l):(y[t]=N(n),y[t].c(),y[t].m(a,null))}for(;t<y.length;t+=1)y[t].d(1);y.length=_.length}(!k||1&l&&h!==(h=""+(e[0]?`${e[0]}-message`:"")))&&f(t,"id",h)},i(e){k||(i(n.$$.fragment,e),k=!0)},o(e){c(n.$$.fragment,e),k=!1},d(e){e&&o(t),w(n),$(y,e)}}}function P(e){let t,l,n=e[10].message+"";return{c(){t=u("li"),l=h(n),f(t,"class","tw_list-disc")},m(e,n){s(e,t,n),m(t,l)},p(e,t){4&t&&n!==(n=e[10].message+"")&&k(l,n)},d(e){e&&o(t)}}}function N(e){let t,l,n=e[7].message+"";return{c(){t=u("li"),l=h(n),f(t,"class","tw_list-disc")},m(e,n){s(e,t,n),m(t,l)},p(e,t){8&t&&n!==(n=e[7].message+"")&&k(l,n)},d(e){e&&o(t)}}}function q(e){let t,l,u,g;const d=[v,j],f=[];function m(e,t){return e[3].length?0:e[2].length?1:-1}return~(t=m(e))&&(l=f[t]=d[t](e)),{c(){l&&l.c(),u=n()},m(e,l){~t&&f[t].m(e,l),s(e,u,l),g=!0},p(e,[n]){let s=t;t=m(e),t===s?~t&&f[t].p(e,n):(l&&(r(),c(f[s],1,1,(()=>{f[s]=null})),a()),~t?(l=f[t],l?l.p(e,n):(l=f[t]=d[t](e),l.c()),i(l,1),l.m(u.parentNode,u)):l=null)},i(e){g||(i(l),g=!0)},o(e){c(l),g=!1},d(e){~t&&f[t].d(e),e&&o(u)}}}function z(e,t,l){let{callback:n}=t,{key:s}=t,{label:r}=t,{messageKey:c}=t,a=_(n,r),i=y(n.getPolicies()),o=a.reduce(((e,t)=>e=e.concat(t.restructured)),[]);return e.$$set=e=>{"callback"in e&&l(4,n=e.callback),"key"in e&&l(0,s=e.key),"label"in e&&l(5,r=e.label),"messageKey"in e&&l(1,c=e.messageKey)},e.$$.update=()=>{112&e.$$.dirty&&(l(6,a=_(n,r)),l(2,i=y(n.getPolicies())),l(3,o=a.reduce(((e,t)=>e=e.concat(t.restructured)),[])))},[s,c,i,o,n,r,a]}class A extends e{constructor(e){super(),t(this,e,z,q,l,{callback:4,key:0,label:5,messageKey:1})}}export{A as default};