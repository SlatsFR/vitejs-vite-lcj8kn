import{SvelteComponent as t,init as e,safe_not_equal as a,create_component as i,mount_component as l,transition_in as s,transition_out as n,destroy_component as o}from"../../../../../node_modules/svelte/internal/index.js";import{isInputRequired as r,getValidationPolicies as c,getValidationFailures as u}from"../_utilities/callback.utilities.js";import p from"../../../components/compositions/input-floating/floating-label.js";import{interpolate as d,textToKey as m}from"../../../_utilities/i18n.utilities.js";import $ from"../../../components/compositions/input-stacked/stacked-label.js";import f from"../_utilities/policies.js";function b(t){let e,a;return e=new f({props:{callback:t[0],key:t[4],label:t[2],messageKey:"usernameRequirements"}}),{c(){i(e.$$.fragment)},m(t,i){l(e,t,i),a=!0},p(t,a){const i={};1&a&&(i.callback=t[0]),16&a&&(i.key=t[4]),4&a&&(i.label=t[2]),e.$set(i)},i(t){a||(s(e.$$.fragment,t),a=!0)},o(t){n(e.$$.fragment,t),a=!1},d(t){o(e,t)}}}function g(t){let e,a;return e=new t[8]({props:{isFirstInvalidInput:t[1].isFirstInvalidInput,isRequired:t[5],isInvalid:t[7],key:t[4],label:d(m(t[3]),null,t[2]),message:t[5]?d("inputRequiredError"):void 0,onChange:t[9],showMessage:!1,type:"text",value:"string"==typeof t[6]?t[6]:"",$$slots:{default:[b]},$$scope:{ctx:t}}}),{c(){i(e.$$.fragment)},m(t,i){l(e,t,i),a=!0},p(t,[a]){const i={};2&a&&(i.isFirstInvalidInput=t[1].isFirstInvalidInput),32&a&&(i.isRequired=t[5]),128&a&&(i.isInvalid=t[7]),16&a&&(i.key=t[4]),12&a&&(i.label=d(m(t[3]),null,t[2])),32&a&&(i.message=t[5]?d("inputRequiredError"):void 0),64&a&&(i.value="string"==typeof t[6]?t[6]:""),32789&a&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){a||(s(e.$$.fragment,t),a=!0)},o(t){n(e.$$.fragment,t),a=!1},d(t){o(e,t)}}}function k(t,e,a){let{callback:i}=e,{callbackMetadata:l}=e,{selfSubmitFunction:s=null}=e,{stepMetadata:n}=e,{style:o={}}=e;const d="stacked"===o.labels?$:p;let m,f,b,g,k,y,v;return t.$$set=t=>{"callback"in t&&a(0,i=t.callback),"callbackMetadata"in t&&a(1,l=t.callbackMetadata),"selfSubmitFunction"in t&&a(10,s=t.selfSubmitFunction),"stepMetadata"in t&&a(11,n=t.stepMetadata),"style"in t&&a(12,o=t.style)},t.$$.update=()=>{8199&t.$$.dirty&&(a(3,m=i.getType()),a(4,f=i?.payload?.input?.[0].name||`validated-name=${l.idx}`),a(5,b=r(i)),a(2,g=i.getPrompt()),a(6,k=i?.getInputValue()),c(i.getPolicies()),a(13,y=u(i,g)),a(7,v=!!y.length))},[i,l,g,m,f,b,k,v,d,function(t){i.setInputValue(t.target.value)},s,n,o,y]}class y extends t{constructor(t){super(),e(this,t,k,g,a,{callback:0,callbackMetadata:1,selfSubmitFunction:10,stepMetadata:11,style:12})}}export{y as default};