import{SvelteComponent as t,init as e,safe_not_equal as r,binding_callbacks as n,bind as l,create_component as s,mount_component as i,add_flush_callback as o,transition_in as a,transition_out as m,destroy_component as c,component_subscribe as f,afterUpdate as u,space as p,element as $,empty as d,attr as g,insert as y,group_outros as b,check_outros as w,detach as _,destroy_each as h,text as x,set_data as k,construct_svelte_component as j,noop as S}from"../../../../node_modules/svelte/internal/index.js";import{interpolate as M}from"../../_utilities/i18n.utilities.js";import F from"../../components/_utilities/locale-strings.js";import v from"../../components/primitives/alert/alert.js";import E from"../../components/primitives/button/button.js";import{initCheckValidation as N,convertStringToKey as A}from"../_utilities/step.utilities.js";import I from"../../components/primitives/form/form.js";import B from"../../components/icons/new-user-icon.js";import{mapCallbackToComponent as H}from"../_utilities/map-callback.utilities.js";import{buildCallbackMetadata as V,buildStepMetadata as W}from"../_utilities/metadata.utilities.js";import{style as z}from"../../style.store.js";function D(t,e,r){const n=t.slice();return n[14]=e[r],n[16]=r,n}function q(t){let e,r,n;return r=new B({props:{classes:"tw_text-gray-400 tw_fill-current",size:"72px"}}),{c(){e=$("div"),s(r.$$.fragment),g(e,"class","tw_flex tw_justify-center")},m(t,l){y(t,e,l),i(r,e,null),n=!0},i(t){n||(a(r.$$.fragment,t),n=!0)},o(t){m(r.$$.fragment,t),n=!1},d(t){t&&_(e),c(r)}}}function C(t){let e,r;return e=new v({props:{id:"formFailureMessageAlert",needsFocus:t[7],type:"error",$$slots:{default:[G]},$$scope:{ctx:t}}}),{c(){s(e.$$.fragment)},m(t,n){i(e,t,n),r=!0},p(t,r){const n={};128&r&&(n.needsFocus=t[7]),131332&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(a(e.$$.fragment,t),r=!0)},o(t){m(e.$$.fragment,t),r=!1},d(t){c(e,t)}}}function G(t){let e,r=M(t[8],null,t[2])+"";return{c(){e=x(r)},m(t,r){y(t,e,r)},p(t,n){260&n&&r!==(r=M(t[8],null,t[2])+"")&&k(e,r)},d(t){t&&_(e)}}}function J(t){let e,r,n;var l=H(t[14]);function o(t){return{props:{callback:t[14],callbackMetadata:t[6][t[16]],selfSubmitFunction:t[11],stepMetadata:{...t[9]},style:t[10]}}}return l&&(e=j(l,o(t))),{c(){e&&s(e.$$.fragment),r=d()},m(t,l){e&&i(e,t,l),y(t,r,l),n=!0},p(t,n){const f={};if(16&n&&(f.callback=t[14]),64&n&&(f.callbackMetadata=t[6][t[16]]),512&n&&(f.stepMetadata={...t[9]}),1024&n&&(f.style=t[10]),l!==(l=H(t[14]))){if(e){b();const t=e;m(t.$$.fragment,1,0,(()=>{c(t,1)})),w()}l?(e=j(l,o(t)),s(e.$$.fragment),a(e.$$.fragment,1),i(e,r.parentNode,r)):e=null}else l&&e.$set(f)},i(t){n||(e&&a(e.$$.fragment,t),n=!0)},o(t){e&&m(e.$$.fragment,t),n=!1},d(t){t&&_(r),e&&c(e,t)}}}function K(t){let e,r;return e=new E({props:{busy:t[3],style:"primary",type:"submit",width:"full",$$slots:{default:[L]},$$scope:{ctx:t}}}),{c(){s(e.$$.fragment)},m(t,n){i(e,t,n),r=!0},p(t,r){const n={};8&r&&(n.busy=t[3]),131072&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(a(e.$$.fragment,t),r=!0)},o(t){m(e.$$.fragment,t),r=!1},d(t){c(e,t)}}}function L(t){let e,r;return e=new F({props:{key:"registerButton"}}),{c(){s(e.$$.fragment)},m(t,n){i(e,t,n),r=!0},p:S,i(t){r||(a(e.$$.fragment,t),r=!0)},o(t){m(e.$$.fragment,t),r=!1},d(t){c(e,t)}}}function O(t){let e,r,n,l,o,f,u,x,k,j,S,M=t[1]&&q();n=new F({props:{key:"registerHeader"}}),f=new F({props:{key:"alreadyHaveAnAccount",html:!0}});let v=t[2]&&C(t),E=t[4]?.callbacks,N=[];for(let e=0;e<E.length;e+=1)N[e]=J(D(t,E,e));const A=t=>m(N[t],1,1,(()=>{N[t]=null}));let I=!t[9].isStepSelfSubmittable&&K(t);return{c(){M&&M.c(),e=p(),r=$("h1"),s(n.$$.fragment),l=p(),o=$("p"),s(f.$$.fragment),u=p(),v&&v.c(),x=p();for(let t=0;t<N.length;t+=1)N[t].c();k=p(),I&&I.c(),j=d(),g(r,"class","tw_primary-header dark:tw_primary-header_dark"),g(o,"class","tw_text-base tw_text-center tw_-mt-5 tw_mb-2 tw_py-4 tw_text-secondary-dark dark:tw_text-secondary-light")},m(t,s){M&&M.m(t,s),y(t,e,s),y(t,r,s),i(n,r,null),y(t,l,s),y(t,o,s),i(f,o,null),y(t,u,s),v&&v.m(t,s),y(t,x,s);for(let e=0;e<N.length;e+=1)N[e].m(t,s);y(t,k,s),I&&I.m(t,s),y(t,j,s),S=!0},p(t,r){if(t[1]?M?2&r&&a(M,1):(M=q(),M.c(),a(M,1),M.m(e.parentNode,e)):M&&(b(),m(M,1,1,(()=>{M=null})),w()),t[2]?v?(v.p(t,r),4&r&&a(v,1)):(v=C(t),v.c(),a(v,1),v.m(x.parentNode,x)):v&&(b(),m(v,1,1,(()=>{v=null})),w()),3664&r){let e;for(E=t[4]?.callbacks,e=0;e<E.length;e+=1){const n=D(t,E,e);N[e]?(N[e].p(n,r),a(N[e],1)):(N[e]=J(n),N[e].c(),a(N[e],1),N[e].m(k.parentNode,k))}for(b(),e=E.length;e<N.length;e+=1)A(e);w()}t[9].isStepSelfSubmittable?I&&(b(),m(I,1,1,(()=>{I=null})),w()):I?(I.p(t,r),512&r&&a(I,1)):(I=K(t),I.c(),a(I,1),I.m(j.parentNode,j))},i(t){if(!S){a(M),a(n.$$.fragment,t),a(f.$$.fragment,t),a(v);for(let t=0;t<E.length;t+=1)a(N[t]);a(I),S=!0}},o(t){m(M),m(n.$$.fragment,t),m(f.$$.fragment,t),m(v),N=N.filter(Boolean);for(let t=0;t<N.length;t+=1)m(N[t]);m(I),S=!1},d(t){M&&M.d(t),t&&_(e),t&&_(r),c(n),t&&_(l),t&&_(o),c(f),t&&_(u),v&&v.d(t),t&&_(x),h(N,t),t&&_(k),I&&I.d(t),t&&_(j)}}}function P(t){let e,r,f;function u(e){t[13](e)}let p={ariaDescribedBy:"formFailureMessageAlert",onSubmitWhenValid:t[5],$$slots:{default:[O]},$$scope:{ctx:t}};return void 0!==t[0]&&(p.formEl=t[0]),e=new I({props:p}),n.push((()=>l(e,"formEl",u))),{c(){s(e.$$.fragment)},m(t,r){i(e,t,r),f=!0},p(t,[n]){const l={};32&n&&(l.onSubmitWhenValid=t[5]),133086&n&&(l.$$scope={dirty:n,ctx:t}),!r&&1&n&&(r=!0,l.formEl=t[0],o((()=>r=!1))),e.$set(l)},i(t){f||(a(e.$$.fragment,t),f=!0)},o(t){m(e.$$.fragment,t),f=!1},d(t){c(e,t)}}}function Q(t,e,r){let n;f(t,z,(t=>r(10,n=t)));let l,s,{displayIcon:i}=e,{failureMessage:o}=e,{formEl:a=null}=e,{loading:m}=e,{step:c}=e,{submitForm:p}=e,$=!1,d=[],g="";return u((()=>{r(7,$=!!o)})),t.$$set=t=>{"displayIcon"in t&&r(1,i=t.displayIcon),"failureMessage"in t&&r(2,o=t.failureMessage),"formEl"in t&&r(0,a=t.formEl),"loading"in t&&r(3,m=t.loading),"step"in t&&r(4,c=t.step),"submitForm"in t&&r(5,p=t.submitForm)},t.$$.update=()=>{4180&t.$$.dirty&&(r(12,l=N()),r(6,d=V(c,l)),r(9,s=W(d)),r(8,g=A(o)))},[a,i,o,m,c,p,d,$,g,s,n,function(){s.isStepSelfSubmittable&&p()},l,function(t){a=t,r(0,a)}]}class R extends t{constructor(t){super(),e(this,t,Q,P,r,{displayIcon:1,failureMessage:2,formEl:0,loading:3,step:4,submitForm:5})}}export{R as default};