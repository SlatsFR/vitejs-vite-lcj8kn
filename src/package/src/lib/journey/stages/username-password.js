import{SvelteComponent as t,init as e,safe_not_equal as n,binding_callbacks as r,bind as l,create_component as o,mount_component as i,add_flush_callback as s,transition_in as a,transition_out as m,destroy_component as c,component_subscribe as f,afterUpdate as p,space as u,element as $,attr as d,insert as g,group_outros as y,check_outros as b,detach as w,destroy_each as h,text as _,set_data as x,construct_svelte_component as k,empty as j,noop as S}from"../../../../node_modules/svelte/internal/index.js";import{interpolate as M}from"../../_utilities/i18n.utilities.js";import F from"../../components/_utilities/locale-strings.js";import v from"../../components/primitives/alert/alert.js";import E from"../../components/primitives/button/button.js";import{initCheckValidation as N,convertStringToKey as A}from"../_utilities/step.utilities.js";import I from"../../components/primitives/form/form.js";import B from"../../components/icons/key-icon.js";import{mapCallbackToComponent as H}from"../_utilities/map-callback.utilities.js";import{buildCallbackMetadata as V,buildStepMetadata as W}from"../_utilities/metadata.utilities.js";import{style as z}from"../../style.store.js";function D(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function q(t){let e,n,r;return n=new B({props:{classes:"tw_text-gray-400 tw_fill-current",size:"72px"}}),{c(){e=$("div"),o(n.$$.fragment),d(e,"class","tw_flex tw_justify-center")},m(t,l){g(t,e,l),i(n,e,null),r=!0},i(t){r||(a(n.$$.fragment,t),r=!0)},o(t){m(n.$$.fragment,t),r=!1},d(t){t&&w(e),c(n)}}}function C(t){let e,n;return e=new v({props:{id:"formFailureMessageAlert",needsFocus:t[7],type:"error",$$slots:{default:[G]},$$scope:{ctx:t}}}),{c(){o(e.$$.fragment)},m(t,r){i(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.needsFocus=t[7]),131332&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){c(e,t)}}}function G(t){let e,n=M(t[8],null,t[2])+"";return{c(){e=_(n)},m(t,n){g(t,e,n)},p(t,r){260&r&&n!==(n=M(t[8],null,t[2])+"")&&x(e,n)},d(t){t&&w(e)}}}function J(t){let e,n,r;var l=H(t[14]);function s(t){return{props:{callback:t[14],callbackMetadata:t[6][t[16]],selfSubmitFunction:t[11],stepMetadata:{...t[9]},style:t[10]}}}return l&&(e=k(l,s(t))),{c(){e&&o(e.$$.fragment),n=j()},m(t,l){e&&i(e,t,l),g(t,n,l),r=!0},p(t,r){const f={};if(16&r&&(f.callback=t[14]),64&r&&(f.callbackMetadata=t[6][t[16]]),512&r&&(f.stepMetadata={...t[9]}),1024&r&&(f.style=t[10]),l!==(l=H(t[14]))){if(e){y();const t=e;m(t.$$.fragment,1,0,(()=>{c(t,1)})),b()}l?(e=k(l,s(t)),o(e.$$.fragment),a(e.$$.fragment,1),i(e,n.parentNode,n)):e=null}else l&&e.$set(f)},i(t){r||(e&&a(e.$$.fragment,t),r=!0)},o(t){e&&m(e.$$.fragment,t),r=!1},d(t){t&&w(n),e&&c(e,t)}}}function K(t){let e,n;return e=new E({props:{busy:t[3],style:"primary",type:"submit",width:"full",$$slots:{default:[L]},$$scope:{ctx:t}}}),{c(){o(e.$$.fragment)},m(t,r){i(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.busy=t[3]),131072&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){c(e,t)}}}function L(t){let e,n;return e=new F({props:{key:"loginButton"}}),{c(){o(e.$$.fragment)},m(t,r){i(e,t,r),n=!0},p:S,i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){c(e,t)}}}function O(t){let e,n,r,l,s,f,p,_,x,k,j=t[1]&&q();r=new F({props:{key:"loginHeader"}});let S=t[2]&&C(t),M=t[4]?.callbacks,v=[];for(let e=0;e<M.length;e+=1)v[e]=J(D(t,M,e));const E=t=>m(v[t],1,1,(()=>{v[t]=null}));let N=!t[9].isStepSelfSubmittable&&K(t);return x=new F({props:{key:"dontHaveAnAccount",html:!0}}),{c(){j&&j.c(),e=u(),n=$("h1"),o(r.$$.fragment),l=u(),S&&S.c(),s=u();for(let t=0;t<v.length;t+=1)v[t].c();f=u(),N&&N.c(),p=u(),_=$("p"),o(x.$$.fragment),d(n,"class","tw_primary-header dark:tw_primary-header_dark"),d(_,"class","tw_text-base tw_text-center tw_py-4 tw_text-secondary-dark dark:tw_text-secondary-light")},m(t,o){j&&j.m(t,o),g(t,e,o),g(t,n,o),i(r,n,null),g(t,l,o),S&&S.m(t,o),g(t,s,o);for(let e=0;e<v.length;e+=1)v[e].m(t,o);g(t,f,o),N&&N.m(t,o),g(t,p,o),g(t,_,o),i(x,_,null),k=!0},p(t,n){if(t[1]?j?2&n&&a(j,1):(j=q(),j.c(),a(j,1),j.m(e.parentNode,e)):j&&(y(),m(j,1,1,(()=>{j=null})),b()),t[2]?S?(S.p(t,n),4&n&&a(S,1)):(S=C(t),S.c(),a(S,1),S.m(s.parentNode,s)):S&&(y(),m(S,1,1,(()=>{S=null})),b()),3664&n){let e;for(M=t[4]?.callbacks,e=0;e<M.length;e+=1){const r=D(t,M,e);v[e]?(v[e].p(r,n),a(v[e],1)):(v[e]=J(r),v[e].c(),a(v[e],1),v[e].m(f.parentNode,f))}for(y(),e=M.length;e<v.length;e+=1)E(e);b()}t[9].isStepSelfSubmittable?N&&(y(),m(N,1,1,(()=>{N=null})),b()):N?(N.p(t,n),512&n&&a(N,1)):(N=K(t),N.c(),a(N,1),N.m(p.parentNode,p))},i(t){if(!k){a(j),a(r.$$.fragment,t),a(S);for(let t=0;t<M.length;t+=1)a(v[t]);a(N),a(x.$$.fragment,t),k=!0}},o(t){m(j),m(r.$$.fragment,t),m(S),v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)m(v[t]);m(N),m(x.$$.fragment,t),k=!1},d(t){j&&j.d(t),t&&w(e),t&&w(n),c(r),t&&w(l),S&&S.d(t),t&&w(s),h(v,t),t&&w(f),N&&N.d(t),t&&w(p),t&&w(_),c(x)}}}function P(t){let e,n,f;function p(e){t[13](e)}let u={ariaDescribedBy:"formFailureMessageAlert",onSubmitWhenValid:t[5],$$slots:{default:[O]},$$scope:{ctx:t}};return void 0!==t[0]&&(u.formEl=t[0]),e=new I({props:u}),r.push((()=>l(e,"formEl",p))),{c(){o(e.$$.fragment)},m(t,n){i(e,t,n),f=!0},p(t,[r]){const l={};32&r&&(l.onSubmitWhenValid=t[5]),133086&r&&(l.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,l.formEl=t[0],s((()=>n=!1))),e.$set(l)},i(t){f||(a(e.$$.fragment,t),f=!0)},o(t){m(e.$$.fragment,t),f=!1},d(t){c(e,t)}}}function Q(t,e,n){let r;f(t,z,(t=>n(10,r=t)));let l,o,{displayIcon:i}=e,{failureMessage:s}=e,{formEl:a=null}=e,{loading:m}=e,{step:c}=e,{submitForm:u}=e,$=!1,d=[],g="";return p((()=>{n(7,$=!!s)})),t.$$set=t=>{"displayIcon"in t&&n(1,i=t.displayIcon),"failureMessage"in t&&n(2,s=t.failureMessage),"formEl"in t&&n(0,a=t.formEl),"loading"in t&&n(3,m=t.loading),"step"in t&&n(4,c=t.step),"submitForm"in t&&n(5,u=t.submitForm)},t.$$.update=()=>{4180&t.$$.dirty&&(n(12,l=N()),n(6,d=V(c,l)),n(9,o=W(d)),n(8,g=A(s)))},[a,i,s,m,c,u,d,$,g,o,r,function(){o.isStepSelfSubmittable&&u()},l,function(t){a=t,n(0,a)}]}class R extends t{constructor(t){super(),e(this,t,Q,P,n,{displayIcon:1,failureMessage:2,formEl:0,loading:3,step:4,submitForm:5})}}export{R as default};