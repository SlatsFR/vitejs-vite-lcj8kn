import{PolicyKey as e}from"./enums.js";export{PolicyKey}from"./enums.js";import r from"./message-creator.js";var i=function(){return i=Object.assign||function(e){for(var r,i=1,t=arguments.length;i<t;i++)for(var n in r=arguments[i])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},i.apply(this,arguments)},t=function(){function t(){}return t.parseErrors=function(e,r){var i=this,t=[];return e.detail&&e.detail.failedPolicyRequirements&&e.detail.failedPolicyRequirements.map((function(e){t.push.apply(t,[{detail:e,messages:i.parseFailedPolicyRequirement(e,r)}])})),t},t.parseFailedPolicyRequirement=function(e,r){var i=this,t=[];return e.policyRequirements.map((function(n){t.push(i.parsePolicyRequirement(e.property,n,r))})),t},t.parsePolicyRequirement=function(t,n,o){void 0===o&&(o={});var a="string"==typeof n?JSON.parse(n):i({},n),s=a.policyRequirement;return(o[s]||r[s]||r[e.UnknownPolicy])(t,a.params?i(i({},a.params),{policyRequirement:s}):{policyRequirement:s})},t}();export{t as default};